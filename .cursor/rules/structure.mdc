---
alwaysApply: true
---

## Documentation Structure

This document defines the structure and purpose of all documentation files in the project.

### Documentation Directory

All project documentation lives in the `docs/` folder. The root directory should remain clean without README or documentation files.

## Core Documentation Files

### `docs/prd.md` - Product Requirements Document

**Purpose**: Comprehensive product specification and architecture documentation.

**Contents**:
- Project overview and goals
- Technology stack
- Architecture details (single app model, routing, multi-schema strategy)
- Component architecture (developer-centric approach)
- Archive & restore system design
- CI/CD & maintenance strategy
- Content types (blog posts, galleries, media, forms)
- Design system & branding
- Authentication
- API endpoints
- Getting started guide
- Deployment instructions
- Project structure
- Development guidelines
- Key differentiators
- Future enhancements

**When to Update**:
- Major architecture changes
- New feature specifications
- Technology stack changes
- Deployment model updates

### `docs/changelog.md` - Change History

**Purpose**: Track all completed changes, fixes, and releases.

**Format**:
- Follows [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) format
- Uses [Semantic Versioning](https://semver.org/spec/v2.0.0.html)
- Reverse chronological order (latest first)
- Date-stamped entries in `YYYY-MM-DD` format
- Categorized by version: `[Unreleased]`, `[Version]`

**Contents**:
- **Only completed changes** - no planning items
- Version releases with dates
- Bug fixes
- New features implemented
- Breaking changes
- Deprecations
- Security updates

**Writing Style - Be Concise:**
- **Just the facts** - Include only essential information developers need to understand what changed
- **Avoid verbosity** - No lengthy explanations or background context
- **Minimize code samples** - Only include code if absolutely necessary for understanding
- **Focus on what, not how** - Describe what was done, not detailed implementation steps
- **Key files only** - List important files changed, not exhaustive lists
- **Context for next session** - Brief summary of current state and where to continue

**When to Update**:
- After completing features or fixes
- At the end of each development session
- When releasing versions
- When deprecating features

**Changelog Pattern**:
- **ALWAYS** include a date and time stamp in entries: `### YYYY-MM-DD HH:MM CT - Description`
- Use format: `### 2026-01-21 14:30 CT - Feature Description` (includes date, time, and timezone)
- Time format: 24-hour format (HH:MM) with Central Time (CT) timezone indicator
- When moving items from "Unreleased" to a version, use format: `## [VERSION] - YYYY-MM-DD`
- Date should reflect when the change was completed/deployed
- Never leave entries without timestamps - all entries must have date and time
- Multiple entries per day are supported and should include different times
- **CRITICAL: Always include context for next session**
  - Add "Context for Next Session" section at the top of each changelog entry
  - Include current working state, what's ready to test, and where to continue
  - List key files changed/created for easy reference
  - Note any important decisions or patterns established
  - This makes it easy to pick up work in the next session without re-reading everything

**Structure**:
```markdown
# Changelog

## [Unreleased]

### YYYY-MM-DD HH:MM CT - Feature/Fix Description
- Change item 1
- Change item 2

### YYYY-MM-DD HH:MM CT - Another Feature (same day, different time)
- Change item 1
- Change item 2

## [Version] - YYYY-MM-DD

### Added
- New features

### Changed
- Changes to existing functionality

### Fixed
- Bug fixes

### Removed
- Removed features
```

**Cross-Reference**: Links to `planlog.md` for planned work.

### `docs/planlog.md` - Planning and Backlog

**Purpose**: Track planned work, implementation phases, future enhancements, and backlog items.

**Contents**:
- Implementation phases with detailed tasks (organized by priority)
- Active planning items with checkboxes
- Feature backlog
- Technical debt items
- Future enhancements
- Architecture features (planned)
- Architecture notes and implementation details
- Notes and considerations

**Format**:
- Uses checkboxes `- [ ]` for incomplete items
- Uses `- [x]` for completed items
- Organized by phase/category with priority order
- Detailed task breakdowns with sub-tasks
- **IMPORTANT**: Items are NEVER deleted - they remain in the document and are simply checked off when completed

**Writing Style - Be Concise:**
- **Just the facts** - Include only essential information developers need to carry out the task
- **Avoid verbosity** - No lengthy explanations, background context, or implementation details
- **Minimize code samples** - Avoid code blocks unless critical for understanding the task
- **Focus on what, not how** - Describe what needs to be done, not detailed implementation steps
- **Task-oriented** - Each item should be a clear, actionable task
- **Reference technical docs** - Link to `prd-technical.md` for implementation patterns instead of including them

**When to Update**:
- When identifying new work
- When planning features
- During sprint planning
- When items are completed (check off the checkbox, keep the item)
- When adding new phases or tasks

**Workflow**:
1. Add new items to appropriate phase/section
2. **Check off items** (`- [ ]` → `- [x]`) as work progresses
3. **Keep completed items in planlog.md** - do NOT delete them
4. Add summary entries to `changelog.md` at session end (but keep detailed items in planlog)
5. Review and prioritize regularly
6. Move completed phases to "Completed Phases" section if desired for organization

**Key Principle**: 
- **Planlog is a living document** - items stay forever, just get checked off
- This provides a complete history of what was planned and what was completed
- Completed items serve as reference for what has been done
- Only move items to changelog for summary/version entries, not for deletion

**Cross-Reference**: Links to `changelog.md` for version summaries, but detailed task history remains in planlog. Links to `sessionlog.md` for session continuity.

### `docs/sessionlog.md` - Session continuity

**Purpose**: Active, focused session handoff. **Not** a living document — kept lean.

**Contents**:
- Current focus (what we're working on)
- Next up (concrete next steps, often pointing to planlog phases)
- Context for handoff (reference used to write changelog "Context for Next Session"; delete after use)

**Workflow**:
- **Session start:** Developer announces "start of work session." Open `sessionlog.md`; use **Next up** and **Context** to pick up.
- **Session end:** Developer announces "end of work session."
  1. Check off any completed sessionlog items.
  2. Sync those completions to `planlog.md` (check off corresponding items).
  3. **Delete** those items from `sessionlog.md` to keep it lean.
  4. Add session context (what was done, even if incomplete) to `changelog.md` — "Context for Next Session" in the new entry.
- **Abrupt stop:** Same as session end. Update sessionlog, sync planlog, prune sessionlog, add changelog context.

**Key principle**: Sessionlog is lean. Check off → sync to planlog → delete from sessionlog. Session context lives in changelog; planlog remains the single source for planned/completed tasks.

**When to Update**:
- Start of session (read; optionally adjust Next up).
- End of session (check off, sync planlog, delete items, use context for changelog).

**Cross-Reference**: Planlog links to sessionlog for continuity. Changelog receives "Context for Next Session" derived from sessionlog context at session end.

## Documentation Principles

### Separation of Concerns

1. **Planning vs. History**: 
   - `planlog.md` = What we plan to do (priority workflow; items stay, checked off when done)
   - `changelog.md` = What we've done (completed work + context for next session)

2. **Session continuity**:
   - `sessionlog.md` = Current focus, next up, handoff context. Lean; items deleted after sync to planlog. Developer announces session start/end so docs are updated.

3. **Specification vs. History**:
   - `prd.md` = What the system is/does (current state)
   - `changelog.md` = How we got here (changes over time)

4. **Structure vs. Content**:
   - `.cursor/rules/structure.mdc` = How docs are organized (this file)
   - Other docs = Actual project content

### Maintenance Workflow

1. **During Development**:
   - Add planned items to `planlog.md`
   - Check off items as work progresses
   - **Session start:** Developer announces "start of work session." Open `sessionlog.md` for focus and next up.

2. **End of Session** (Single Commit & Push):
   - **Developer announces "end of work session."**
   - **Update all documentation first (CRITICAL - do this before git push):**
     - **Sessionlog:** Check off completed sessionlog items → sync to `planlog.md` → **delete** those items from `sessionlog.md` (keep lean). Use sessionlog context to write changelog "Context for Next Session"; then delete that context block from sessionlog.
     - Check off completed items in `planlog.md` (do NOT delete them)
     - **Add changelog entry with context for next session:**
       - Include "Context for Next Session" section at top (what was done, even if incomplete; where to continue)
       - List current working state, what's ready to test, key files changed/created, important decisions
     - Update `prd.md` if architecture/specs changed
   - **Then commit and push everything together:**
     - Single commit with all changes (code + documentation)
     - Single push to repository
     - Commit message should summarize all work: "Session wrapup: [summary of work]"
   - **Why update changelog first?**
     - Prevents double-push (update docs, commit, push once)
     - Ensures context is captured while fresh in mind
     - Makes next session pickup seamless
   - **Why single push?**
     - Atomic: All related changes together
     - Clean history: One commit per session
     - Efficient: No "forgot to update changelog" follow-up commits
     - Better workflow: Update docs first, then commit everything at once

3. **Before Release**:
   - Review and consolidate `changelog.md` entries
   - Version the release in `changelog.md`
   - Update `prd.md` if needed

### Versioning

- **Changelog**: Uses semantic versioning (MAJOR.MINOR.PATCH)
- **PRD**: Updated for significant changes, not every patch
- **Planlog**: No versioning, always current

### Cross-References

All documentation files should include appropriate cross-references:
- `changelog.md` → `planlog.md` (for planned work)
- `planlog.md` → `changelog.md` (for completed work), `sessionlog.md` (for session continuity)
- `sessionlog.md` → `planlog.md` (next up, sync); context used for changelog at session end
- All reference `prd.md` (for specifications)

## File Naming Conventions

- Use lowercase with hyphens: `planlog.md`, `changelog.md`, `sessionlog.md`
- Use descriptive names that indicate purpose
- Keep extensions: `.md` for Markdown, `.mdc` for Markdown documentation structure

## Document Location

All documentation files must be in the `docs/` directory:
```
docs/
├── prd.md          # Product Requirements Document
├── changelog.md    # Change history (completed work - summaries, context for next session)
├── planlog.md      # Planning and backlog (priority workflow - items stay, just get checked off)
└── sessionlog.md   # Session continuity (current focus, next up; lean, items deleted after sync)
```

**Note**: `planlog.md` is the priority development workflow; items are never deleted, only checked off. `sessionlog.md` is kept lean: check off → sync to planlog → delete from sessionlog. Session context (what was done, even if incomplete) goes to `changelog.md`. Developers announce session start/end so docs are updated appropriately.

The documentation structure specification (this file) lives in `.cursor/rules/structure.mdc` to be part of the cursor rules system.

## Additional Notes

- Keep documentation up-to-date with code changes
- Review documentation structure periodically
- Don't duplicate information across files
- Use consistent formatting and style
- Include dates in changelog entries (required)
- Use checkboxes in planlog for tracking